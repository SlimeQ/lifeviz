<Window x:Class="lifeviz.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="LifeViz"
        Width="1200"
        Height="675"
        Background="#0B0B0B"
        WindowStartupLocation="CenterScreen">
    <Grid x:Name="Root" Background="#0B0B0B">
        <Grid.ContextMenu>
            <ContextMenu x:Name="RootContextMenu"
                         Opened="RootContextMenu_OnOpened">
                <MenuItem x:Name="PauseMenuItem"
                          Header="Pause Simulation"
                          Click="TogglePause_Click" />
                <MenuItem Header="Randomize"
                          Click="Randomize_Click" />
                <Separator />
                <MenuItem Header="Columns">
                    <MenuItem Header="64" Click="PresetColumns_Click" />
                    <MenuItem Header="96" Click="PresetColumns_Click" />
                    <MenuItem Header="128" Click="PresetColumns_Click" />
                    <MenuItem Header="192" Click="PresetColumns_Click" />
                    <MenuItem Header="256" Click="PresetColumns_Click" />
                    <Separator />
                    <MenuItem Header="Custom..." Click="SetColumns_Click" />
                </MenuItem>
                <MenuItem Header="Depth">
                    <MenuItem Header="12" Click="PresetDepth_Click" />
                    <MenuItem Header="24" Click="PresetDepth_Click" />
                    <MenuItem Header="36" Click="PresetDepth_Click" />
                    <MenuItem Header="48" Click="PresetDepth_Click" />
                    <Separator />
                    <MenuItem Header="Custom..." Click="SetDepth_Click" />
                </MenuItem>
                <Separator />
                <MenuItem Header="Window Input"
                          x:Name="WindowInputMenu" />
                <Separator />
                <MenuItem x:Name="PassthroughMenuItem"
                          Header="Passthrough Underlay"
                          IsCheckable="True"
                          Click="TogglePassthrough_Click" />
                <MenuItem x:Name="PreserveResolutionMenuItem"
                          Header="Preserve Window Resolution"
                          IsCheckable="True"
                          Click="TogglePreserveResolution_Click" />
                <MenuItem Header="Blend Mode"
                          x:Name="BlendModeMenu">
                    <MenuItem Header="Additive" IsCheckable="True" Click="BlendModeItem_Click" />
                    <MenuItem Header="Normal" IsCheckable="True" Click="BlendModeItem_Click" />
                    <MenuItem Header="Multiply" IsCheckable="True" Click="BlendModeItem_Click" />
                    <MenuItem Header="Screen" IsCheckable="True" Click="BlendModeItem_Click" />
                    <MenuItem Header="Overlay" IsCheckable="True" Click="BlendModeItem_Click" />
                    <MenuItem Header="Lighten" IsCheckable="True" Click="BlendModeItem_Click" />
                    <MenuItem Header="Darken" IsCheckable="True" Click="BlendModeItem_Click" />
                    <MenuItem Header="Subtractive" IsCheckable="True" Click="BlendModeItem_Click" />
                </MenuItem>
                <MenuItem Header="Life Modes"
                          x:Name="LifeModeMenu">
                    <MenuItem Header="Naive Grayscale" IsCheckable="True" Click="LifeModeItem_Click" />
                    <MenuItem Header="RGB Channel Bins" IsCheckable="True" Click="LifeModeItem_Click" />
                </MenuItem>
                <MenuItem Header="Binning Mode"
                          x:Name="BinningModeMenu">
                    <MenuItem Header="Fill" IsCheckable="True" Click="BinningModeItem_Click" />
                    <MenuItem Header="Binary" IsCheckable="True" Click="BinningModeItem_Click" />
                </MenuItem>
                <MenuItem Header="Capture Threshold" StaysOpenOnClick="True">
                    <Slider x:Name="ThresholdSlider"
                            Minimum="0"
                            Maximum="1"
                            Value="0.55"
                            SmallChange="0.01"
                            LargeChange="0.1"
                            Width="160"
                            ValueChanged="ThresholdSlider_OnValueChanged" />
                </MenuItem>
                <MenuItem Header="Injection Noise" StaysOpenOnClick="True">
                    <Slider x:Name="NoiseSlider"
                            Minimum="0"
                            Maximum="1"
                            Value="0"
                            SmallChange="0.01"
                            LargeChange="0.1"
                            Width="160"
                            ValueChanged="NoiseSlider_OnValueChanged" />
                </MenuItem>
                <Separator />
                <MenuItem Header="Framerate"
                          x:Name="FramerateMenu">
                    <MenuItem Header="15 fps" IsCheckable="True" Click="FramerateItem_Click" />
                    <MenuItem Header="30 fps" IsCheckable="True" Click="FramerateItem_Click" />
                    <MenuItem Header="60 fps" IsCheckable="True" Click="FramerateItem_Click" />
                </MenuItem>
            </ContextMenu>
        </Grid.ContextMenu>

        <Viewbox Stretch="Uniform"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center">
            <Border Background="Black"
                    Padding="0"
                    SnapsToDevicePixels="True">
                <Image x:Name="GameImage"
                       RenderOptions.BitmapScalingMode="NearestNeighbor"
                       RenderOptions.EdgeMode="Aliased"
                       SnapsToDevicePixels="True" />
            </Border>
        </Viewbox>
    </Grid>
</Window>
